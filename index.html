<!DOCTYPE html>
<html dir="rtl">
  <head>
    <title>הרמז</title>
	
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
	<link rel="stylesheet" type="text/css" href="cleanup.css">
	
	<style>
      
      
      
      
	  
	  table, th, td {
        font-size: 40px;
      }
	  
	  select {
    font-size: 36px;
  }
  
  .checkboxV {
  display: inline-block;
  width: 32px;
  height: 32px;
  border: 1px solid black;
  position: relative;
}

.checked .checkboxV:after {
  content: "✔";
  display: block;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  width: 32px;
  height: 32px;
  line-height: 24px;
  text-align: center;
  background-color: white;
  color: green;
  font-weight: bold;
  -webkit-text-stroke: 1px green;
  font-size: 32px;
}



.unchecked .checkboxV:after {
  content: "";
  display: none;
}

button {
			font-size: 24px;
			padding: 12px 24px;
		}
		
		.square {
			position: relative;
			  display: inline-block;
			  width: 15vw;
			  height: 15vw;
			  border: 3px solid #ccc; /* add border */
			  margin-right: 20px;
			  margin-bottom: 20px;
			  background-color: transparent; /* set background to transparent */
			  cursor: pointer;
		}

		.square img {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
			cursor: pointer; /* add cursor */	
		-webkit-user-select: none; /* Chrome, Safari, Opera */
		-moz-user-select: none; /* Firefox */
		-ms-user-select: none; /* IE 10+ */
		user-select: none; /* Standard syntax */			
		}
		
		
		.my-label {
  font-size: 4vw; /* default font size */
}

/* adjust font size based on screen width */
@media screen and (min-width: 400px) {
  /* 4 letter word takes 10% of screen width */
  .my-label {
    font-size: 6vw;
  }
}

.my-input {
  font-size: 4vw; /* default font size */
  width: 80%; /* default width */
}

/* adjust font size and width based on screen width */
@media screen and (min-width: 400px) {
  /* 4 letter word takes 10% of screen width */
  .my-input {
    font-size: 5vw;
    width: 40%;
  }
}

.main-img {
  width: 20%;
  aspect-ratio: 1 / 1;
}

#dialog {
    max-width: 100%;
    width: auto !important;
  }

  #dialog p {
    font-size: 16px;
  }

  .ui-dialog .ui-dialog-buttonpane .ui-button {
    padding: 10px 20px;
    font-size: 16px;
  }

	</style>

    
  </head>
  <body>
  
  <h1>הרמז</h1>
  <br><br>
  
   <fieldset style="border: 2px solid red; width: 95vw; position: relative">
  <legend style="font-size: 6rem;">חשודים</legend>


</fieldset>



<br><br><br>

<div id="dynamic-content"></div>



<br>


<script>

var section = `
<div id="mmAAA">
  <div class="unchecked">
    <span class="checkboxV"></span>
  </div>
  
  <div style="display: flex; align-items: center; width: 100%; position: relative">  
    <img src="BBB" class="main-img">  
    <div class="square">
      <img src="x.png" >
    </div>
    <label for="lebAAA" class="my-label">CCC:</label>
    <input type="text" id="lebAAA" name="lebAAA" class="my-input">
  </div>
</div>
<br><br>`;

		// The CSV data string
		var csvData = `5, green.png, גרין
6, mustard.png, חרדלי
7, orchid.png, אורכידאה
8, rakia.png, רקיע
9, plum.png, שזיפי
10, shani.png, שני
11, candlestick.png, פמוט
12, dagger.png, פגיון
13, pipe.png, מוט ברזל
14, gun.png, אקדח
15, rope.png, חבל
16, wrench.png, מפתח צינורות
17, ballroom.jpg, אולם נשפים
18, billiard.jpg, חדר ביליארד
19, greenhouse.jpg, חממה
20, dining.jpg, חדר אוכל
21, misdaron.jpg, מסדרון
22, kitchen.jpg, מטבח
23, library.jpg, ספרייה
24, salon.jpg, סלון
25, workroom.jpg, חדר עבודה`;

		// Split the CSV data into lines
		var lines = csvData.split('\n');
		var html = '';

		// Generate HTML based on the contents of the CSV data
		for (var i = 0; i < lines.length; i++) {
			var parts = lines[i].split(',');
			var column1 = parts[0];
			var column2 = parts[1];
			var column3 = parts[2];

			// Replace placeholders in the section HTML with CSV data
			var dynamicSection = section.replace(/AAA/g, column1)
				.replace(/BBB/g, column2)
				.replace(/CCC/g, column3);

			html += dynamicSection;
		}

		// Add the generated HTML to the page
		document.getElementById('dynamic-content').innerHTML = html;
		
		

cbs = document.querySelectorAll("div[id^='mm']");
cbs.forEach((dv) => {  
 
 mainid = dv.id;
 //alert("mainid = " + mainid);
 
 //x box
 var squareDiv = dv.querySelector('.square');
 var squareImage = squareDiv.querySelector("img");
 var squareImageName = mainid + "-x"; 
 if (localStorage.getItem(squareImageName) === "true") {
	squareImage.style.display = "block";
 }else{
    squareImage.style.display = "none";
 }  
  squareDiv.addEventListener("click", () => {    
    if (squareImage.style.display === "none") {
      squareImage.style.display = "block";	  
	  localStorage.setItem(squareImageName, "true");
    } else {
      squareImage.style.display = "none";
	  localStorage.setItem(squareImageName, "false");
    }	
  });
  
  //right image
 var rightimage = dv.querySelector('.main-img'); 
 rightimage.addEventListener('click', function() {  
  squareDiv.click();
});
 
  
  
  
});



</script>
  
  <div id="myModal" class="cleanup-modal">
    <div class="cleanup-modal-content">
      <span class="cleanup-close" onclick="closeCleanupModal()">&times;</span>
      <div class="cleanup-large-text">לנקות???</div>
      <div class="cleanup-button-container">
        <button class="cleanup-large-button">Button 1</button>
        <button class="cleanup-large-button">Button 2</button>
      </div>
    </div>
  </div>
  
  <img id="open-dialog" src="trash.png" width="256" height="256" onclick="openCleanupModal()">
  
</div>

<script>
function openCleanupModal() {
  document.getElementById('myModal').style.display = 'block';
}
function closeCleanupModal() {
  document.getElementById('myModal').style.display = 'none';
}

</script>


  <br><br>
	<br><br>
	
	<br><br>
	<br><br>
	
	<h1>ניחושים</h1>
	
	<table id="guesses">
  <tr>
    <th>חשוד</th>
    <th>נשק</th>
    <th>חדר</th>
    <th>תשובה</th>
	<th>תשובה</th>
	<th>תשובה</th>
  </tr>
    
 </table>

<br><br>
	<br><br>
	<br><br>
	<br><br>
	<br><br>
	<br><br>


<script>
	
	function toggleCheckboxState(checkboxDiv) {
  if (checkboxDiv.classList.contains("unchecked")) {
    checkboxDiv.classList.remove("unchecked");
    checkboxDiv.classList.add("checked");
	localStorage.setItem(checkboxDiv.id, "true");
		
  } else {
    checkboxDiv.classList.remove("checked");
    checkboxDiv.classList.add("unchecked");	
	localStorage.setItem(checkboxDiv.id, "false");
  }
}


      
// Get all elements whose ID starts with "vvvv"
var vvvvElements = document.querySelectorAll('[id^="vvvv"]');

// Add event listener to each element
vvvvElements.forEach(function(element) {
  var id = element.id;  
  var isChecked = localStorage.getItem(id);
  // Set the checkbox state if it exists in local storage
  if (isChecked === "true") {
	element.classList.remove("unchecked");
    element.classList.add("checked");
  }
  
  element.addEventListener("click", function() { 
    toggleCheckboxState(element); 
  });
});


// Get all the checkbox input items in the page
var checkboxes = document.querySelectorAll('input[type="checkbox"]');

// Iterate over all the checkbox input items and add the toggle function to them
for (var i = 0; i < checkboxes.length; i++) {
  var checkbox = checkboxes[i];
  
  var id = checkbox.id;
  //alert("found id " + id);
  
  // Retrieve the checkbox state from local storage
  var isChecked = localStorage.getItem(id);
  // Set the checkbox state if it exists in local storage
  if (isChecked === "true") {
	document.getElementById(id).checked = true;
  }
  

  // Add the toggle function to the checkbox input item
  checkbox.addEventListener('change', function() {
	localStorage.setItem(this.id, this.checked);	
  });
}

// get all the text inputs
var textInputs = document.querySelectorAll('input[type="text"]');
for (var i = 0; i < textInputs.length; i++) {
  var input = textInputs[i];
  var id = input.id;
  var txt = localStorage.getItem(id);
  input.value = txt;
  
  // Add an event listener for the input event
  input.addEventListener('input', function() {
    localStorage.setItem(this.id, this.value);
  });
}


var table = document.getElementById("guesses");

      // Clear existing table content except for the header row
      while (table.rows.length > 1) {
        table.deleteRow(1);
      }

      // Create table rows and cells
      for (var i = 0; i < 5; i++) {
        var row = table.insertRow(i + 1);

        for (var j = 0; j < 6; j++) {
          var cell = row.insertCell(j);

          if (j === 0) {
            cell.innerHTML = `
              <select>
                <option value="-1"></option>
                <option value="גרין">גרין</option>
                <option value="חרדלי">חרדלי</option>
                <option value="אורכידאה">אורכידאה</option>
                <option value="רקיע">רקיע</option>
                <option value="שזיפי">שזיפי</option>
                <option value="שני">שני</option>
              </select>
            `;
          } else if (j === 1) {
            cell.innerHTML = `
              <select>
                <option value="-1"></option>
                <option value="פמוט">פמוט</option>
                <option value="פגיון">פגיון</option>
                <option value="מוט ברזל">מוט ברזל</option>
                <option value="אקדח">אקדח</option>
                <option value="חבל">חבל</option>
                <option value="מפתח צינורות">מפתח צינורות</option>
              </select>
            `;
          } else if (j === 2) {
            cell.innerHTML = `
              <select>
                <option value="-1"></option>
                <option value="אולם נשפים">אולם נשפים</option>
                <option value="חדר ביליארד">חדר ביליארד</option>
                <option value="חממה">חממה</option>
                <option value="חדר אוכל">חדר אוכל</option>
                <option value="מסדרון">מסדרון</option>
                <option value="מטבח">מטבח</option>
                <option value="ספרייה">ספרייה</option>
                <option value="סלון">סלון</option>
                <option value="חדר עבודה">חדר עבודה</option>
              </select>
            `;
          } else {
            cell.innerHTML = `
              <select>
                <option value="-1"></option>
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
            `;
          }
        }
      }

function clear_pressed() {
			
	localStorage.clear();
    location.reload();
	
	alert("ניקיתי!!!");
			
}

function manualCheck(id) {
		var checkbox = document.getElementById(id);
		checkbox.checked = !checkbox.checked;
		checkbox.dispatchEvent(new Event('change'));
	}


</script>
    
</body>
</html>


